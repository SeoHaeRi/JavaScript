# 1. 비동기 처리

## 1-1. 비동기 이해

비동기적으로 실행된다는 것은 하나의 동작이 완료되지 않아도 다음 코드가 실행되는 것을 의미한다. 자바스크립트가 싱글 스레드를 갖으면서도 비동기로 동작할 수 있는 원리는 브라우저에 있다.

자바스크립트 실행 환경을 살펴보면, 자바스크립트 엔진의 콜 스택에 실행될 함수가 쌓이게 되는데 비동기로 실행될 때는 Web API를 호출하게 된다. Web API에서는 콜백 함수를 콜백 큐(테스크 큐)에 추가하게 되고 이벤트 루프는 콜백 큐와 콜 스택을 보면서 콜 스택이 비면 콜백 큐의 함수를 꺼내 콜 스택에 넣는다. 이벤트 루프와 콜백 큐가 있기 때문에 콜 스택이 하나여도 비동기 동작이 가능하다.

## 1-2. 비동기 처리의 필요성

비동기 특성은 서버에 요청을 보내고 결과가 돌아오지 않아도 다음 코드를 실행한다. 비동기 방식이 필요한 이유는 웹에서 서버에 데이터를 요청했을 때 요청이 완료되기 전까지 아무것도 실행되지 않는다면 화면이 멈춘 것처럼 보일 뿐 아니라 하나의 프로그램을 실행하는 데 많은 시간이 소요되기 때문이다. 하지만 실행 순서가 중요할 때도 있는데 예를 들면 다른 코드가 서버에 요청한 데이터 값을 이용해야 할 때는 데이터를 받아 온 후에 코드가 실행되는게 필요하다. 이럴때 사용하는 것이 비동기 처리이다.

```jsx
let response = fetch('mySnack.jpg');
let snackImg = response.snackImg(); //서버에서 이미지를 가져오면 이미지 크기, 네트워크 환경에 따라 실행 불가한 경우 발생, 비동기 처리 필요
```

## 1-3. 비동기 처리의 종류

비동기 처리의 종류에는 `Promise`, `await/async`, `fetch` 등이 있다.
`Promise`는 ES6에 도입됐고, 응답에 관한 정보를 갖고 있는 객체로 then, catch를 통해 결과값을 처리한다. `await/async`는 ES2017에서 도입됐고 Promise를 기반으로 하지만 then, catch를 사용하지 않고 try-catch를 사용한다. 마지막으로 `fetch`는 접근하고자 하는 url과 매개변수로 네트워크 요청을 보낼 수 있다.
